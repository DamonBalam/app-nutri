import{c as C,h as w}from"./dom.23d515a9.js";import{f as B,j as y,q as k,a6 as c,B as A,I as J,g,s as M,c as O,w as l,o as u,d as m,e as n,N as p,J as v,a8 as T,a7 as q,K as D}from"./index.1362acce.js";import{c as F,A as Q,b as j}from"./CitaControlDataService.749f8fb6.js";import{Q as z}from"./apple.f1b9eb5c.js";import"./use-router-link.7484e254.js";import"./uid.a462dcd1.js";import"./QList.c72f9c46.js";import"./rtl.56d3b774.js";import"./scroll.6d0055d7.js";import"./use-key-composition.cdeb0394.js";import"./QBtn.9763c416.js";import"./QImg.dc3b0414.js";var b=C({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(s,{slots:e}){const o=k(),r=B(()=>"q-td"+(s.autoWidth===!0?" q-table--col-auto-width":"")+(s.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(s.props===void 0)return y("td",{class:r.value},w(e.default));const h=o.vnode.key,a=(s.props.colsMap!==void 0?s.props.colsMap[h]:null)||s.props.col;if(a===void 0)return;const{row:t}=s.props;return y("td",{class:r.value+a.__tdClass(t),style:a.__tdStyle(t)},w(e.default))}}});class I{async getByCita(e){return(await c.get(`show/equivalencias-nutricionales/${e}`,{})).data}async getLast(e){return(await c.get(`show-last/equivalencia-nutricional/${e}`,{})).data}async save(e){return(await c.post("create/equivalencia-nutricional",{data:e})).data}async update(e,o){return(await c.post(`update/equivalencia-nutricional/${e}`,{data:o})).data}}const L=new I,P={class:"q-my-sm q-px-md"},V={class:"row justify-center"},$=n("span",{class:"text-bold q-mr-sm"},"\xFAltima actualizaci\xF3n:",-1),E={class:"text-light"},H={class:"q-px-md"},W={class:"row justify-center"},K={class:"text-bold q-mr-sm text-white"},U={key:0,style:{"list-style":"none"}},re=A({__name:"index",setup(s){const e=J(),{getUser:o}=e,r=g(""),h=[{name:"time",label:"Time",align:"center",field:"time"},{name:"diet",align:"left",label:"Dieta",field:"diet"}],a=g([{time:"Desayuno",diet:[]},{time:"Media Ma\xF1ana",diet:[]},{time:"Almuerzo",diet:[]},{time:"Media Tarde",diet:[]},{time:"Cena",diet:[]},{time:"Merienda Noche",diet:[]}]);return M(async()=>{const t=await L.getLast(o.id),f=await F.getAll(o.id);r.value=f.data[0].fecha_cita;const i=JSON.parse(t.data.desayuno);a.value[0].diet.push(i);const d=JSON.parse(t.data.media_ma\u00F1ana);a.value[1].diet.push(d);const _=JSON.parse(t.data.almuerzo);a.value[2].diet.push(_);const x=JSON.parse(t.data.media_tarde);a.value[3].diet.push(x);const N=JSON.parse(t.data.cena);a.value[4].diet.push(N);const S=JSON.parse(t.data.merienda_noche);a.value[5].diet.push(S)}),(t,f)=>(u(),O(z,{class:"q-px-md q-pt-md"},{default:l(()=>[m(Q,{title:"Tu Plan de alimentaci\xF3n saludable "}),n("div",P,[n("div",V,[$,n("span",E,p(r.value),1)])]),n("div",H,[m(j,{rows:a.value,columns:h,"row-key":"name",flat:"","hide-pagination":"","hide-header":"","table-header-class":"bg-black text-white","no-data-label":"No se han encontrado registros","rows-per-page-options":[6]},{"body-cell-time":l(i=>[m(b,{props:i,class:"bg-primary"},{default:l(()=>[n("div",W,[n("span",K,p(i.row.time),1)])]),_:2},1032,["props"])]),"body-cell-diet":l(i=>[m(b,{props:i},{default:l(()=>[n("ul",null,[(u(!0),v(q,null,T(i.row.diet[0],(d,_)=>(u(),v(q,null,[d!==0?(u(),v("li",U,p(d)+" "+p(_),1)):D("",!0)],64))),256))])]),_:2},1032,["props"])]),_:1},8,["rows"])])]),_:1}))}});export{re as default};
